{"version":3,"file":"bundle.js","sources":["webpack://my_lms_aish/./models/ sync","webpack://my_lms_aish/./app.js","webpack://my_lms_aish/./instrument.js","webpack://my_lms_aish/./models/index.js","webpack://my_lms_aish/./routes/auth.js","webpack://my_lms_aish/./routes/educator.js","webpack://my_lms_aish/./routes/student.js","webpack://my_lms_aish/external commonjs \"@sentry/node\"","webpack://my_lms_aish/external commonjs \"@sentry/profiling-node\"","webpack://my_lms_aish/external commonjs \"bcryptjs\"","webpack://my_lms_aish/external commonjs \"body-parser\"","webpack://my_lms_aish/external commonjs \"connect-ensure-login\"","webpack://my_lms_aish/external commonjs \"connect-flash\"","webpack://my_lms_aish/external commonjs \"dotenv\"","webpack://my_lms_aish/external commonjs \"express\"","webpack://my_lms_aish/external commonjs \"express-session\"","webpack://my_lms_aish/external commonjs \"i18n\"","webpack://my_lms_aish/external commonjs \"passport\"","webpack://my_lms_aish/external commonjs \"passport-local\"","webpack://my_lms_aish/external commonjs \"process\"","webpack://my_lms_aish/external commonjs \"sequelize\"","webpack://my_lms_aish/external node-commonjs \"fs\"","webpack://my_lms_aish/external node-commonjs \"path\"","webpack://my_lms_aish/webpack/bootstrap","webpack://my_lms_aish/webpack/runtime/hasOwnProperty shorthand","webpack://my_lms_aish/./index.js"],"sourceRoot":"","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = \"./models sync recursive\";\nmodule.exports = webpackEmptyContext;","/* eslint-disable no-unused-vars */\nrequire(\"./instrument.js\");\n\nconst Sentry = require(\"@sentry/node\");\nconst express = require(\"express\");\nconst app = express();\nconst Sequelize = require(\"sequelize\");\nconst bodyParser = require(\"body-parser\");\nconst path = require(\"path\");\napp.set(\"views\", path.join(__dirname, \"views\"));\nconst passport = require(\"passport\");\nconst connectEnsureLogin = require(\"connect-ensure-login\");\nconst session = require(\"express-session\");\nconst flash = require(\"connect-flash\");\nconst LocalStrategy = require(\"passport-local\");\nconst bcrypt = require(\"bcryptjs\");\nconst saltRounds = 10;\n\nconst authRoutes = require(\"./routes/auth\");\nconst studentRoutes = require(\"./routes/student\");\nconst educatorRoutes = require(\"./routes/educator\");\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\n//translations\nconst i18n = require(\"i18n\");\n\n// eslint-disable-next-line no-undef\napp.use(express.static(path.join(__dirname, \"public\")));\napp.use(\n  session({\n    secret: \"my-super-secret-key-21728172615261562\",\n    cookie: {\n      maxAge: 24 * 60 * 60 * 1000,\n    },\n  }),\n);\napp.use(flash());\napp.use(function (request, response, next) {\n  response.locals.messages = request.flash();\n  next();\n});\n\n// i18n configuration\ni18n.configure({\n  locales: [\"en\", \"fr\"], // Add your supported locales\n  defaultLocale: \"en\",\n  cookie: \"lang\",\n  queryParameter: \"lang\", // Allows switching languages via query parameter\n  directory: __dirname + \"/locale\", // Path to your translation files\n  autoReload: true,\n  updateFiles: false,\n  syncFiles: true,\n  parser: JSON,\n});\n\n// Middleware to set the locale based on the query parameter\napp.use(i18n.init);\n\napp.use(passport.initialize());\napp.use(passport.session());\n\npassport.use(\n  new LocalStrategy(\n    {\n      usernameField: \"email\",\n      passwordField: \"pwd\",\n    },\n    (username, password, done) => {\n      User.findOne({ where: { email: username } })\n        .then(async (user) => {\n          if (!user) {\n            return done(null, false, { message: \"Invalid email\" });\n          }\n\n          const result = await bcrypt.compare(password, user.password);\n          if (result) {\n            return done(null, user);\n          } else {\n            return done(null, false, { message: \"Invalid password\" });\n          }\n        })\n        .catch((error) => {\n          return done(error);\n        });\n    },\n  ),\n);\n\npassport.serializeUser((user, done) => {\n  done(null, user.id); // Serialize user ID and role\n});\n\npassport.deserializeUser((id, done) => {\n  User.findByPk(id)\n    .then((user) => {\n      done(null, user);\n    })\n    .catch((error) => {\n      done(error, null);\n    });\n});\n\nconst { User } = require(\"./models\");\n\napp.set(\"view engine\", \"ejs\");\n\nSentry.setupExpressErrorHandler(app);\n\napp.use(function onError(err, req, res, next) {\n  res.statusCode = 500;\n  res.end(res.sentry + \"\\n\");\n});\n\napp.use(authRoutes);\napp.use(studentRoutes);\napp.use(educatorRoutes);\n\nmodule.exports = app;\n","/* eslint-enable no-unused-vars */\n// Import with `import * as Sentry from \"@sentry/node\"` if you are using ESM\nconst Sentry = require(\"@sentry/node\");\nconst { nodeProfilingIntegration } = require(\"@sentry/profiling-node\");\n\nSentry.init({\n  dsn: \"https://32502b7076f34328e34578dd4eb59d04@o4507844351229952.ingest.de.sentry.io/4507844384325712\",\n  integrations: [nodeProfilingIntegration()],\n  // Tracing\n  tracesSampleRate: 1.0, //  Capture 100% of the transactions\n\n  // Set sampling rate for profiling - this is relative to tracesSampleRate\n  profilesSampleRate: 1.0,\n  debug: true,\n});\n","\"use strict\";\n\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst Sequelize = require(\"sequelize\");\nconst process = require(\"process\");\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || \"development\";\nconst config = require(__dirname + \"/../config/config.json\")[env];\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(\n    config.database,\n    config.username,\n    config.password,\n    config,\n  );\n}\n\nfs.readdirSync(__dirname)\n  .filter((file) => {\n    return (\n      file.indexOf(\".\") !== 0 &&\n      file !== basename &&\n      file.slice(-3) === \".js\" &&\n      file.indexOf(\".test.js\") === -1\n    );\n  })\n  .forEach((file) => {\n    const model = require(path.join(__dirname, file))(\n      sequelize,\n      Sequelize.DataTypes,\n    );\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach((modelName) => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n","const express = require(\"express\");\nconst router = express.Router();\nconst passport = require(\"passport\");\nconst i18n = require(\"i18n\");\nconst User = require(\"../models\").User;\nconst bcrypt = require(\"bcryptjs\");\nconst Sentry = require(\"@sentry/node\");\nconst saltRounds = 10;\n\nrouter.get(\"/\", async (request, response) => {\n  console.log(\"App started\");\n  console.log(i18n.getLocale());\n  response.render(\"index\", {\n    signInEducator: i18n.__(\"Sign in as Educator\"),\n    signInStudent: i18n.__(\"Sign in as Student\"),\n    email: i18n.__(\"Email\"),\n    password: i18n.__(\"Password\"),\n  });\n});\n\nrouter.get(\"/login\", async (request, response) => {\n  response.render(\"index\", {\n    signInEducator: i18n.__(\"Sign in as Educator\"),\n    signInStudent: i18n.__(\"Sign in as Student\"),\n    email: i18n.__(\"Email\"),\n    password: i18n.__(\"Password\"),\n  });\n});\n\nrouter.get(\"/edusignup\", async (request, response) => {\n  response.render(\"auth/edusignup\", {\n    signUpAsEducator: i18n.__(\"Sign up as Educator\"),\n    nameLabel: i18n.__(\"Name\"),\n    emailLabel: i18n.__(\"Email\"),\n    passwordLabel: i18n.__(\"Password\"),\n    submitButton: i18n.__(\"Sign up\"),\n  });\n});\n\nrouter.get(\"/stusignup\", async (request, response) => {\n  response.render(\"auth/stusignup\", {\n    signUpAsStudent: i18n.__(\"Sign up as Student\"),\n    nameLabel: i18n.__(\"Name\"),\n    emailLabel: i18n.__(\"Email\"),\n    passwordLabel: i18n.__(\"Password\"),\n    submitButton: i18n.__(\"Sign up\"),\n  });\n});\n\nrouter.get(\"/signout\", async (request, response, next) => {\n  request.logout((error) => {\n    if (error) {\n      return next(error);\n    }\n    response.redirect(\"/\");\n  });\n});\n\n//change lang\nrouter.get(\"/set-language/:lang\", (req, res) => {\n  try {\n    const lang = req.params.lang;\n    res.cookie(\"i18n\", lang); // Set the language in a cookie\n    i18n.setLocale(lang); // Set the language for the current session\n    console.log(i18n.getLocale());\n    res.redirect(\"back\"); // Redirect to the previous page\n    // Manually throw an error to test Sentry integration\n    //throw new Error(\"This is a test error to send to Sentry!\");\n  } catch (err) {\n    // Capture the error in Sentry\n    Sentry.captureException(err);\n    console.error(err);\n    res.status(500).send(\"An error occurred while setting the language.\");\n  }\n});\n\n//changepassword\nrouter.get(\"/changepassedu\", async (request, response) => {\n  const userid = request.user.id;\n  const user = await User.findByPk(userid);\n  response.render(\"auth/changepass\", { user, role: \"e\" });\n});\n\nrouter.get(\"/changepassstu\", async (request, response) => {\n  const userid = request.user.id;\n  const user = await User.findByPk(userid);\n  response.render(\"auth/changepass\", { user, role: \"s\" });\n});\n\nrouter.post(\"/change-password/:role\", async (req, res) => {\n  console.log(\"changepassword\");\n  const userId = req.user.id; // Assuming you have authenticated the user and set up the user object\n  const oldPassword = req.body.oldPassword;\n  const newPassword = req.body.newPassword;\n  const confirmPassword = req.body.confirmPassword;\n  try {\n    const user = await User.findByPk(userId);\n    // Check if the old password provided matches the one stored in the database\n    const isMatch = await bcrypt.compare(oldPassword, user.password);\n    if (!isMatch) {\n      req.flash(\"error\", \"Incorrect Old Password\");\n      return res.redirect(\"/changepassedu\");\n    }\n\n    // Check if the new password matches the confirmation password\n    if (newPassword !== confirmPassword) {\n      req.flash(\"error\", \"New and Confrimation passwords do not match \");\n      return res.redirect(\"/changepassedu\");\n    }\n\n    // Hash the new password\n    const hashedPassword = await bcrypt.hash(newPassword, 10);\n\n    // Update the user's password in the database\n    user.password = hashedPassword;\n    await user.save();\n    console.log(\"x\");\n    if (user.role === \"e\") {\n      res.redirect(\"/\");\n    }\n    if (user.role === \"s\") {\n      res.redirect(\"/\");\n    }\n  } catch (error) {\n    console.error(error);\n    res.status(500).send(\"Internal Server Error\");\n  }\n});\n\n//login\nrouter.post(\n  \"/edulog\",\n  passport.authenticate(\"local\", {\n    failureRedirect: \"/login\",\n    failureFlash: true,\n  }),\n  async (request, response) => {\n    const user = await User.findByPk(request.user.id);\n    if (user.role === \"e\") {\n      console.log(\"Educator login successful\");\n      response.redirect(\"/educator\");\n    } else {\n      request.flash(\"error\", \"You are not an educator\");\n      return response.redirect(\"/\");\n    }\n  },\n);\n\nrouter.post(\n  \"/stulog\",\n  passport.authenticate(\"local\", {\n    failureRedirect: \"/login\",\n    failureFlash: true,\n  }),\n  async (request, response) => {\n    const user = await User.findByPk(request.user.id);\n    if (user.role === \"s\") {\n      console.log(\"Student login successful\");\n      response.redirect(\"/student\");\n    } else {\n      request.flash(\"error\", \"You are not a student\");\n      return response.redirect(\"/\");\n    }\n  },\n);\n\nrouter.post(\"/educator\", async (request, response) => {\n  console.log(\"Creating an educator\");\n  const hashpwd = await bcrypt.hash(request.body.edupwd, saltRounds);\n  try {\n    const educator = await User.create({\n      name: request.body.eduname,\n      email: request.body.eduemail,\n      password: hashpwd,\n      role: \"e\",\n    });\n    //const eduId = educator.id;\n    request.login(educator, (error) => {\n      if (error) {\n        console.log(error);\n      }\n      response.redirect(\"/educator\");\n    });\n  } catch (error) {\n    console.error(error);\n    request.flash(\"error\", \"E-mail provided is already in use!\");\n    response.redirect(\"/edusignup\");\n  }\n});\n\nrouter.post(\"/student\", async (request, response) => {\n  console.log(\"Creating a student\");\n  const hashpwd = await bcrypt.hash(request.body.stupwd, saltRounds);\n  try {\n    const student = await User.create({\n      name: request.body.stuname,\n      email: request.body.stuemail,\n      password: hashpwd,\n      role: \"s\",\n    });\n    //const eduId = educator.id;\n    request.login(student, (error) => {\n      if (error) {\n        console.log(error);\n      }\n      response.redirect(\"/student\");\n    });\n  } catch (error) {\n    console.error(error);\n    request.flash(\"error\", \"E-mail provided is already in use!\");\n    response.redirect(\"/stusignup\");\n  }\n});\n\nmodule.exports = router;\n","const express = require(\"express\");\nconst router = express.Router();\nconst connectEnsureLogin = require(\"connect-ensure-login\");\nconst i18n = require(\"i18n\");\nconst { Course, studentcourse, Page, Chapter, User } = require(\"../models\");\n\nconst isUser = (req, res, next) => {\n  if (req.isAuthenticated()) {\n    return next(); // User is a student\n  }\n  res.status(403).send(\"Unauthorized\"); // User is not a student\n};\n\n//educator\nrouter.get(\n  \"/educator\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    const courses = await Course.findAll({\n      where: {\n        eduId: request.user.id,\n      },\n    });\n    response.render(\"edu/educator\", {\n      courses,\n      myCourse: i18n.__(\"My Courses\"),\n      createCourse: i18n.__(\"Create course\"),\n      viewCourse: i18n.__(\"View Course\"),\n    });\n  },\n);\n\n//viewreports\nrouter.get(\"/viewreports\", isUser, async (request, response) => {\n  try {\n    const educatorId = request.user.id;\n    const courses = await Course.findAll({\n      where: {\n        eduId: educatorId,\n      },\n      include: [\n        {\n          model: studentcourse,\n          attributes: [\"studentId\"],\n        },\n      ],\n    });\n    console.log(educatorId);\n    //total number of students enrolled\n    const stu = await User.findAll({\n      where: { role: \"s\" },\n    });\n    const totalStudents = stu.length;\n\n    // Calculate the popularity score for each course based on the enrollment rate\n    const courseReports = courses.map((course) => {\n      const enrollmentRate = course.studentcourses.length / totalStudents;\n      // Adjust the score as needed, e.g., multiplying by a factor to make the numbers more readable\n      const popularityScore = enrollmentRate * 100;\n      return {\n        courseId: course.id,\n        courseName: course.name,\n        totalStudents: course.studentcourses.length,\n        popularityScore: popularityScore.toFixed(2), // Round the score to 2 decimal places\n      };\n    });\n\n    // Sort the courseReports by popularity score in descending order\n    courseReports.sort((a, b) => b.popularityScore - a.popularityScore);\n\n    response.render(\"edu/viewreport\", {\n      courseReports,\n      welcomeMessage: i18n.__(\"Welcome!\"),\n      changePassword: i18n.__(\"Change Password\"),\n      signOut: i18n.__(\"Signout\"),\n      totalStudents: i18n.__(\"Total Students Enrolled\"),\n      popularity: i18n.__(\"Popularity\"),\n    });\n  } catch (error) {\n    console.error(error);\n    response.status(500).json({ error: \"Internal Server Error\" });\n  }\n});\n\n//createcourse\nrouter.get(\n  \"/createcourse\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    response.render(\"edu/creation/createcourse\", {\n      createCourseTitle: i18n.__(\"Create new course\"),\n      courseNameLabel: i18n.__(\"What is the name of the course?\"),\n      submitButton: i18n.__(\"Submit\"),\n    });\n  },\n);\n\n//newpage\nrouter.get(\n  \"/newpage/:chapterId\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    const chapterId = request.params.chapterId;\n    console.log(chapterId);\n    response.render(\"edu/creation/newpage\", {\n      chapterId,\n      newPageTitle: i18n.__(\"New Page\"),\n      titleLabel: i18n.__(\"Title\"),\n      contentLabel: i18n.__(\"Content\"),\n      submitButton: i18n.__(\"Submit\"),\n    });\n  },\n);\n\n//edu course\nrouter.get(\n  \"/educourse/:courseId\",\n  connectEnsureLogin.ensureLoggedIn(),\n  isUser,\n  async (request, response) => {\n    const courseId = request.params.courseId;\n    const course = await Course.findByPk(courseId);\n    const chapters = await Chapter.findAll({\n      where: { courseId: courseId },\n    });\n    const pages = await Page.findAll();\n    response.render(\"edu/educourse\", {\n      coursename: course.name,\n      chapters,\n      pages,\n    });\n  },\n);\n\n//createchapter\nrouter.get(\n  \"/createchapter/:chapterId\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    const chapid = request.params.chapterId;\n    const chapter = await Chapter.findByPk(chapid);\n    const courseId = chapter.courseId;\n    response.render(\"edu/creation/createchapter\", { courseId });\n  },\n);\n\n//create course\nrouter.post(\n  \"/courses\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    console.log(\"Creating a course\");\n    try {\n      if (!request.body.coursename) {\n        request.flash(\"error\", \"Course name cannot be empty\");\n        return response.redirect(\"/createcourse\");\n      }\n      const createdCourse = await Course.create({\n        name: request.body.coursename,\n        eduId: request.user.id,\n      });\n      const courseId = createdCourse.id;\n      response.render(\"edu/creation/createchapter\", { courseId });\n    } catch (error) {\n      console.error(error);\n      response.status(500).json({ error: \"Internal Server Error\" });\n    }\n  },\n);\n\n//creating chapter\nrouter.post(\n  \"/courses/:courseId/chapters\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    console.log(\"Creating a chapter for a course\");\n    try {\n      const courseId = request.params.courseId;\n      const createdChapter = await Chapter.create({\n        name: request.body.chaptername,\n        desc: request.body.desc,\n        courseId,\n      });\n      const chapterid = createdChapter.id;\n      const chapter = await Chapter.findByPk(chapterid);\n      const pages = await Page.findAll({\n        where: { chapterId: chapterid },\n      });\n      response.render(\"edu/creation/createpage\", { chapter, pages });\n    } catch (error) {\n      console.error(error);\n      response.status(500).json({ error: \"Internal Server Error\" });\n    }\n  },\n);\n\n//creating page\nrouter.post(\n  \"/chapters/:chapterId/pages\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    console.log(\"Creating a page for a chapter\");\n    try {\n      const chapterId = request.params.chapterId;\n      await Page.create({\n        title: request.body.title,\n        content: request.body.content,\n        chapterId,\n      });\n      const chapter = await Chapter.findByPk(chapterId);\n      const pages = await Page.findAll({\n        where: { chapterId },\n      });\n      response.render(\"edu/creation/createpage\", { chapter, pages });\n    } catch (error) {\n      console.error(error);\n      response.status(500).json({ error: \"Internal Server Error\" });\n    }\n  },\n);\n\n//delete page\nrouter.delete(\n  \"/pages/:pageId\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    console.log(\"Deleting a page\");\n    try {\n      const pageId = request.params.pageId;\n      const page = await Page.findByPk(pageId);\n      if (page) {\n        // Delete the page from the database\n        await page.destroy();\n        response.status(200).json({ message: \"Page deleted successfully\" });\n      } else {\n        response.status(404).json({ error: \"Page not found\" });\n      }\n    } catch (error) {\n      console.error(error);\n      response.status(500).json({ error: \"Internal Server Error\" });\n    }\n  },\n);\n\n//delete chapter\nrouter.delete(\n  \"/chapters/:chapterId\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    console.log(\"Deleting a chapter\");\n    try {\n      const chapterId = request.params.chapterId;\n      const chapter = await Chapter.findByPk(chapterId);\n      if (chapter) {\n        // Delete the chapter from the database\n        await Page.destroy({ where: { chapterId } });\n        await chapter.destroy();\n        response.status(200).json({ message: \"Chapter deleted successfully\" });\n      } else {\n        response.status(404).json({ error: \"Chapter not found\" });\n      }\n    } catch (error) {\n      console.error(error);\n      response.status(500).json({ error: \"Internal Server Error\" });\n    }\n  },\n);\n\n//delete course\nrouter.delete(\n  \"/courses/:courseId\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    console.log(\"Deleting a course\");\n    try {\n      const courseId = request.params.courseId;\n      const course = await Course.findByPk(courseId);\n      if (course) {\n        // Delete the course from the database\n        const chapters = await Chapter.findAll({\n          where: { courseId: courseId },\n        });\n        // Delete associated pages\n        await Page.destroy({\n          where: { chapterId: chapters.map((chapter) => chapter.id) },\n        });\n\n        //delete associated chapters\n        await Chapter.destroy({ where: { courseId: courseId } });\n        await studentcourse.destroy({ where: { courseId: courseId } });\n        await course.destroy();\n        return response.json({ success: true });\n      } else {\n        response.status(404).json({ error: \"Course not found\" });\n      }\n    } catch (error) {\n      console.error(error);\n      response.status(500).json({ error: \"Internal Server Error\" });\n    }\n  },\n);\n\nmodule.exports = router;\n","/* eslint-disable no-unused-vars */\nconst express = require(\"express\");\nconst router = express.Router();\nconst connectEnsureLogin = require(\"connect-ensure-login\");\nconst i18n = require(\"i18n\");\nconst {\n  Course,\n  studentcourse,\n  Page,\n  Chapter,\n  pagecomp,\n  User,\n} = require(\"../models\");\nconst Sequelize = require(\"sequelize\");\nconst Sentry = require(\"@sentry/node\");\n\nconst isUser = (req, res, next) => {\n  if (req.isAuthenticated()) {\n    return next(); // User is a student\n  }\n  res.status(403).send(\"Unauthorized\"); // User is not a student\n};\n\nasync function calculateCompletionPercentage(courseId, studentId) {\n  const totalPages = await Page.count({\n    include: {\n      model: Chapter,\n      where: { courseId },\n    },\n  });\n  console.log(\"a\", totalPages, courseId);\n\n  const completedPages = await pagecomp.count({\n    include: [\n      {\n        model: Page,\n        include: {\n          model: Chapter,\n          where: { courseId },\n        },\n        required: true, // Ensures that only completed pages are considered\n      },\n    ],\n    where: {\n      studentId: studentId,\n    },\n  });\n  console.log(\"b\", completedPages);\n  const completionPercentage = (completedPages / totalPages) * 100;\n  return completionPercentage;\n}\n\n//student\nrouter.get(\n  \"/student\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    const studentId = request.user.id;\n    const enrolledCourses = await studentcourse.findAll({\n      where: {\n        studentId: studentId,\n      },\n      attributes: [\"courseId\"],\n    });\n    const enrolledCourseIds = enrolledCourses.map(\n      (enrolledCourse) => enrolledCourse.courseId,\n    );\n    const courses = await Course.findAll({\n      where: {\n        id: {\n          [Sequelize.Op.notIn]: enrolledCourseIds,\n        },\n      },\n    });\n    response.render(\"stu/student\", {\n      courses,\n      availCourses: i18n.__(\"Available Courses\"),\n      myCourses: i18n.__(\"My courses\"),\n      viewCourse: i18n.__(\"View Course\"),\n      enroll: i18n.__(\"Enroll\"),\n    });\n  },\n);\n\n//viewcourse\nrouter.get(\n  \"/viewcourse/:courseId\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    const courseId = request.params.courseId;\n    console.log(`Fetching chapters for courseId: ${courseId}`);\n    const chapters = await Chapter.findAll({\n      where: { courseId: courseId },\n    });\n    const course = await Course.findByPk(courseId);\n    if (!course) {\n      throw new Error(`Course with id ${courseId} not found`);\n    }\n    console.log(`Course found: ${course.name} (ID: ${course.id})`);\n    const edu = await User.findByPk(course.eduId);\n    if (!edu) {\n      throw new Error(`Educator with id ${course.eduId} not found`);\n    }\n    console.log(`Educator found: ${edu.name}`);\n\n    // Get the locale from i18n\n    const userLocale = i18n.getLocale(); // Get the current locale\n    console.log(`Current locale: ${userLocale}`);\n\n    // Create a date formatter for the user's locale\n    const dateFormatter = new Intl.DateTimeFormat(userLocale, {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n      hour12: false, // Set to true for 12-hour format\n    });\n\n    // Format the createdAt date\n    const formattedDate = dateFormatter.format(new Date(course.createdAt));\n    console.log(`Formatted Date: ${formattedDate}`);\n    if (!course) {\n      return response.status(404).send(\"Course not found.\");\n    }\n    if (!edu) {\n      return response.status(404).send(\"Educator not found.\");\n    }\n    if (!chapters) {\n      return response.status(404).send(\"Chapters not found.\");\n    }\n    console.log(\"abc\");\n    response.render(\"stu/viewing/viewcourse\", {\n      coursename: course.name,\n      courseid: course.id,\n      date: formattedDate,\n      chapters,\n      eduname: edu.name,\n      enrollButton: i18n.__(\"Enroll\"),\n      chapterTitle: i18n.__(\"Chapters\"),\n    });\n  },\n);\n\n//viewencourse\nrouter.get(\n  \"/viewencourse/:courseId\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    try {\n      const courseId = request.params.courseId;\n      console.log(`Fetching chapters for courseId: ${courseId}`);\n      const chapters = await Chapter.findAll({\n        where: { courseId: courseId },\n      });\n      const course = await Course.findByPk(courseId);\n      if (!course) {\n        throw new Error(`Course with id ${courseId} not found`);\n      }\n      console.log(`Course found: ${course.name} (ID: ${course.id})`);\n      const edu = await User.findByPk(course.eduId);\n      if (!edu) {\n        throw new Error(`Educator with id ${course.eduId} not found`);\n      }\n      console.log(`Educator found: ${edu.name}`);\n\n      // Get the locale from i18n\n      const userLocale = i18n.getLocale(); // Get the current locale\n      console.log(`Current locale: ${userLocale}`);\n\n      // Create a date formatter for the user's locale\n      const dateFormatter = new Intl.DateTimeFormat(userLocale, {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        second: \"2-digit\",\n        hour12: false, // Set to true for 12-hour format\n      });\n      console.log(dateFormatter);\n      // Format the createdAt date\n      const formattedDate = dateFormatter.format(new Date(course.createdAt));\n      console.log(`Formatted Date: ${formattedDate}`);\n\n      response.render(\"stu/viewing/viewencourse\", {\n        coursename: course.name,\n        courseid: course.id,\n        date: formattedDate,\n        chapters,\n        eduname: edu.name,\n        chapterTitle: i18n.__(\"Chapters\"),\n      });\n    } catch (err) {\n      // Capture the error in Sentry\n      Sentry.captureException(err);\n      console.error(`Error: ${err.message}`, err);\n      response\n        .status(500)\n        .send(\"An error occurred while setting the language.\");\n    }\n  },\n);\n\n//viewchap\nrouter.get(\n  \"/viewchap/:chapterId\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    const chapterId = request.params.chapterId;\n    const chaps = await Chapter.findByPk(chapterId);\n    const pages = await Page.findAll({\n      where: { chapterId: chapterId },\n    });\n    response.render(\"stu/viewing/viewchap\", {\n      chapname: chaps.name,\n      chapdesc: chaps.desc,\n      pages,\n    });\n  },\n);\n\n//mycourses\nrouter.get(\n  \"/mycourses\",\n  connectEnsureLogin.ensureLoggedIn(),\n  isUser,\n  async (request, response) => {\n    try {\n      const studentId = request.user.id; // Assuming the student ID is stored in the user object\n      const courses = await Course.findAll({\n        include: {\n          model: studentcourse,\n          where: { studentId: studentId }, // Filter by studentId\n        },\n      });\n      // to Calculate progress for each course\n      const coursesWithProgress = await Promise.all(\n        courses.map(async (course) => {\n          const courseId = course.id;\n          // Replace with the actual studentId\n          const completionPercentage = await calculateCompletionPercentage(\n            courseId,\n            studentId,\n          );\n          return {\n            ...course.toJSON(),\n            completionPercentage,\n          };\n        }),\n      );\n\n      response.render(\"stu/mycourses\", {\n        courses: coursesWithProgress,\n      });\n    } catch (error) {\n      console.error(error);\n      response.status(500).json({ error: \"Internal Server Error\" });\n    }\n  },\n);\n\n//viewpage\nrouter.get(\n  \"/viewpage/:pageId/:chapterId\",\n  connectEnsureLogin.ensureLoggedIn(),\n  async (request, response) => {\n    const pageId = request.params.pageId;\n    const chapterId = request.params.chapterId;\n    const page = await Page.findByPk(pageId);\n\n    if (page && chapterId == page.chapterId) {\n      const studentId = request.user.id;\n      const pageCompletion = await pagecomp.findOne({\n        where: {\n          pageId: page.id,\n          studentId: studentId,\n        },\n      });\n      response.render(\"stu/viewing/viewpage\", {\n        pagetitle: page.title,\n        pagecont: page.content,\n        pageid: page.id,\n        chap: page.chapterId,\n        completed: pageCompletion ? true : false,\n      });\n    } else {\n      response.redirect(\"/student\");\n    }\n  },\n);\n\n//enrollcourse\nrouter.post(\n  \"/enroll/:courseId\",\n  connectEnsureLogin.ensureLoggedIn(),\n  isUser,\n  async (request, response) => {\n    console.log(\"Enrolling in a course\");\n    try {\n      const courseId = request.params.courseId;\n      const course = await Course.findByPk(courseId);\n      const edu = await User.findByPk(course.eduId);\n      const chapters = await Chapter.findAll({\n        where: { courseId: courseId },\n      });\n      await Course.isenrolled(course.id);\n      const studentId = request.user.id;\n      await studentcourse.create({\n        studentId: studentId,\n        courseId: courseId,\n      });\n      response.redirect(`/viewencourse/${courseId}`);\n    } catch (error) {\n      console.error(error);\n      response.status(500).json({ error: \"Internal Server Error\" });\n    }\n  },\n);\n\n//mark as completed\nrouter.put(\n  \"/pages/:pageId/markAsCompleted\",\n  connectEnsureLogin.ensureLoggedIn(),\n  isUser,\n  async (request, response) => {\n    console.log(\"Marking a page as completed\");\n    const page = await Page.findByPk(request.params.pageId);\n    try {\n      const markstatus = await page.markcomplete(request.body.completed);\n      await pagecomp.create({\n        pageId: page.id,\n        studentId: request.user.id,\n      });\n      console.log(request.body.completed);\n      response.json(markstatus);\n    } catch (error) {\n      console.error(error);\n      response.status(500).json({ error: \"Internal Server Error\" });\n    }\n  },\n);\n\nmodule.exports = router;\n","module.exports = require(\"@sentry/node\");","module.exports = require(\"@sentry/profiling-node\");","module.exports = require(\"bcryptjs\");","module.exports = require(\"body-parser\");","module.exports = require(\"connect-ensure-login\");","module.exports = require(\"connect-flash\");","module.exports = require(\"dotenv\");","module.exports = require(\"express\");","module.exports = require(\"express-session\");","module.exports = require(\"i18n\");","module.exports = require(\"passport\");","module.exports = require(\"passport-local\");","module.exports = require(\"process\");","module.exports = require(\"sequelize\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","require(\"dotenv\").config();\n\nconst app = require(\"./app\");\n\nconst PORT = process.env.PORT || 4000;\napp.listen(PORT, () => {\n  console.log(\"Started express server at port 4000\");\n});\n"],"names":["require","Sentry","express","app","Sequelize","bodyParser","path","set","join","__dirname","passport","connectEnsureLogin","session","flash","LocalStrategy","bcrypt","saltRounds","authRoutes","studentRoutes","educatorRoutes","use","json","urlencoded","extended","i18n","static","secret","cookie","maxAge","request","response","next","locals","messages","configure","locales","defaultLocale","queryParameter","directory","autoReload","updateFiles","syncFiles","parser","JSON","init","initialize","usernameField","passwordField","username","password","done","User","findOne","where","email","then","user","message","result","compare","catch","error","serializeUser","id","deserializeUser","findByPk","setupExpressErrorHandler","onError","err","req","res","statusCode","end","sentry","module","exports","nodeProfilingIntegration","dsn","integrations","tracesSampleRate","profilesSampleRate","debug","fs","process","basename","__filename","env","NODE_ENV","config","db","sequelize","use_env_variable","database","readdirSync","filter","file","indexOf","slice","forEach","model","DataTypes","name","Object","keys","modelName","associate","router","Router","get","console","log","getLocale","render","signInEducator","__","signInStudent","signUpAsEducator","nameLabel","emailLabel","passwordLabel","submitButton","signUpAsStudent","logout","redirect","lang","params","setLocale","captureException","status","send","userid","role","post","userId","oldPassword","body","newPassword","confirmPassword","isMatch","hashedPassword","hash","save","authenticate","failureRedirect","failureFlash","hashpwd","edupwd","educator","create","eduname","eduemail","login","stupwd","student","stuname","stuemail","Course","studentcourse","Page","Chapter","isUser","isAuthenticated","ensureLoggedIn","courses","findAll","eduId","myCourse","createCourse","viewCourse","educatorId","include","attributes","stu","totalStudents","length","courseReports","map","course","enrollmentRate","studentcourses","popularityScore","courseId","courseName","toFixed","sort","a","b","welcomeMessage","changePassword","signOut","popularity","createCourseTitle","courseNameLabel","chapterId","newPageTitle","titleLabel","contentLabel","chapters","pages","coursename","chapid","chapter","createdCourse","createdChapter","chaptername","desc","chapterid","title","content","delete","pageId","page","destroy","success","pagecomp","calculateCompletionPercentage","studentId","totalPages","count","completedPages","required","completionPercentage","enrolledCourses","enrolledCourseIds","enrolledCourse","Op","notIn","availCourses","myCourses","enroll","Error","edu","userLocale","dateFormatter","Intl","DateTimeFormat","year","month","day","hour","minute","second","hour12","formattedDate","format","Date","createdAt","courseid","date","enrollButton","chapterTitle","chaps","chapname","chapdesc","coursesWithProgress","Promise","all","toJSON","pageCompletion","pagetitle","pagecont","pageid","chap","completed","isenrolled","put","markstatus","markcomplete","PORT","listen"],"mappings":"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","debug_id":"1b38228e-7a5e-5547-b2d2-f9761fab95a0"}